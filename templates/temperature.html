<!DOCTYPE html>
<html lang="en" data-theme="luxury">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Temperature Comparison</title>


    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg id='favicon_chart' xmlns='http://www.w3.org/2000/svg' viewBox='-2 -3 24 24' width='28' fill='%23d08581'><path d='M7.116 10.749L6 1.948l-1.116 8.8H1c-.552 0-1-.437-1-.976a.99.99 0 0 1 1-.978h2.116l.9-7.086C4.15.636 5.15-.124 6.245.008c.91.11 1.626.81 1.739 1.7l.899 7.086h1.974L12 16.04l1.142-7.245H19c.552 0 1 .438 1 .978s-.448.977-1 .977h-4.142l-.881 5.587a1.978 1.978 0 0 1-1.672 1.634c-1.092.165-2.113-.567-2.282-1.634l-.88-5.587H7.115z'></path></svg>">
    <!-- TailwindCSS -->

    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.9.0/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      html {
        scroll-behavior: smooth;
      }
    </style>

    <!-- Add Chart.js library -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.js"></script>

        
        <!-- NAVBAR -->
        <div class="navbar bg-base-100 h-30">
          <!-- Navbar Start -->
          <div class="navbar-start">
            <div class="dropdown">
              <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h7"
                  />
                </svg>
              </div>
              <ul
                tabindex="0"
                class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"
              >
                <li><a href="/temperature">Temperature</a></li>
                <li><a href="/temperature#ref2">Apparent Temperature</a></li>
                <hr style="border-color: goldenrod; border-width: 0.25px" />
                <li>
                  <a href="/meteorological-factors">meteorological_factors</a>
                  <a href="http://127.0.0.1:5000/table">RAW_Tables</a>
                </li>
              </ul>
            </div>
          </div>
          <!-- Navbar Center -->

          <div class="navbar-center">
            <a class="btn btn-ghost text-xl">MeteorAnalytica</a>
          </div>

          <div class="navbar-end">
            <label class="flex cursor-pointer gap-2">
              <span class="label-text">luxury</span>
              <input
                type="checkbox"
                value="luxury"
                class="toggle theme-controller"
              />
              <span class="label-text">Retro</span>
              
            </label>
          </div>
        </div>
        <!-- Navbar End -->


      <script>
              // Select the toggle checkbox and the html element
        const toggle = document.querySelector(".toggle.theme-controller");
        const html = document.querySelector("html");

        // Declare a variable to hold the theme value
        let theme = "luxury";

        // Listen for the change event on the toggle checkbox
        toggle.addEventListener("change", function () {
          // When the checkbox is changed, switch the data-theme attribute and update the theme variable
          if (theme === "luxury") {
            theme = "retro";
          } else {
            theme = "luxury";
          }
          html.setAttribute("data-theme", theme);
        });
      </script>
      </head>


      <body>

        <!-- HERO-SECTION -->

    <div class="hero min-h-screen" style="background-image: url(https://daisyui.com/images/stock/photo-1507358522600-9f71e620c44e.jpg);">
      <div class="hero-overlay bg-opacity-60"></div>
      <div class="hero-content text-center text-neutral-content">
        <div class="max-w-md ">
          <h1 class="mb-5 text-4xl font-bold">Welcome to Temperature Comparison</h1>
                <p class="mb-5 text-justify ">Explore and compare the temperature data of <b>Chennai</b> and <b>Madurai</b>. Our interactive charts provide a clear comparison between temperature and apparent temperature of selected cities.<br>Dive in  to discover more.</p>
                <!-- <a class="btn btn-primary" href="#ref1">Get Started</a> -->
              </div>
            </div>
          </div>

          <!-- red line seperator -->
              <hr style="border-color: black; border-width: 1px;">
              <br><br>
          <br>
          <!-- introduction -->
          <div class="intro-section">
            <h2 class="text-3xl font-bold text-center">Introduction</h2><br>
            <p class="text-justify mx-auto max-w-2xl text-xl pl-9">This project aims to analyze weather patterns between two different cities <b>Chennai</b> and <b>Madurai</b>, one coastal and one landlocked. We will compare various factors such as <b>temperature</b>, <b>apparent temperature</b>, <b>surface pressure</b>, and <b>windspeed</b> of both cities to gather statistical information like mean, median, and more.<br><p class="text-justify mx-auto max-w-2xl text-2xl pl-9"> <b>Join us</b> in exploring and understanding the weather patterns of these cities.</p></p>
          </div>
          <br>
          <br>
                  <!-- red line seperator -->
      <hr style="border-color: black; border-width: 2px;"> <br> <br>
          

          <!-- Temperature CHART start-->
              <h1 class="mb-5 text-4xl font- pl-9" id="ref1alpha">Temperature</h1>
              <div id="temperatureChart">
                <div class=" pr-7">
                  <canvas id="weatherChart"></canvas>
                </div>
              </div>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            // Fetch data from SQL table
            Promise.all([
              fetch("/api/weather-data/chennai").then((response) =>
                response.json()
              ),
              fetch("/api/weather-data/madurai").then((response) =>
                response.json()
              ),
            ])
              .then(([chennaiData, maduraiData]) => {
                const chartData = {
                  labels: chennaiData.labels,
                  datasets: [
                    {
                      label: "Chennai (°C)",
                      data: chennaiData.temperatures,
                      backgroundColor: "rgba(255, 99, 132, 0.2)",
                      borderColor: "rgba(255, 99, 132, 1)",
                      borderWidth: 1,
                      yAxisID: "y",
                    },
                    {
                      label: "Madurai (°C)",
                      data: maduraiData.temperatures,
                      backgroundColor: "rgba(54, 162, 235, 0.2)",
                      borderColor: "rgba(54, 162, 235, 1)",
                      borderWidth: 1,
                      yAxisID: "y1",
                    },
                  ],
                };

                const ctx = document
                  .getElementById("weatherChart")
                  .getContext("2d");

                new Chart(ctx, {
                  type: "line",
                  data: chartData,
                  options: {
                    responsive: true,
                    interaction: {
                      mode: "index",
                      intersect: false,
                    },
                    stacked: false,
                    plugins: {
                      title: {
                        display: true,
                        text: "Temperature (°C)", // Added °C here
                      },
                    },
                    scales: {
                      y: {
                        type: "linear",
                        display: true,
                        position: "left",
                      },
                      y1: {
                        type: "linear",
                        display: true,
                        position: "right",
                        grid: {
                          drawOnChartArea: false,
                        },
                      },
                    },
                  },
                });
              })
              .catch((error) => {
                console.error("Error fetching weather data:", error);
              });
          });


        </script>
        <!-- Temperature CHART END-->
    <!-- red line seperator -->
      <br><br>
      <hr style="border-color: black; border-width: 1px;">
      <br><br>


<!-- Temperature Analysis Output Section -->
<div class="analysis-section mb-5 text-4xl font- pl-9">
  <h2 class="text-3xl font-bold">Temperature Analysis Output</h2><br>
  <table class="table w-full">
    <thead>
      <tr>
        <th class="text-xl">City</th>
        <th class="text-xl">Mean Temperature (°C)</th>
        <th class="text-xl">Median Temperature (°C)</th>
        <th class="text-xl">Standard Deviation</th>
        <!-- Add more columns as needed -->
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Chennai</td>
        <td id="chennai-mean-temp">...</td>
        <td id="chennai-median-temp">...</td>
        <td id="chennai-std-dev">...</td>
        <!-- Add more cells as needed -->
      </tr>
      <tr>
        <td>Madurai</td>
        <td id="madurai-mean-temp">...</td>
        <td id="madurai-median-temp">...</td>
        <td id="madurai-std-dev">...</td>
        <!-- Add more cells as needed -->
      </tr>
    </tbody>
  </table>
</div>

<!-- red line seperator -->
<br><br>
<hr style="border-color: black; border-width: 3px;">


    <!-- dynamic temperature sample -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
      // Fetch data from server
      Promise.all([
        fetch("/api/analysis-data/chennai").then((response) => response.json()),
        fetch("/api/analysis-data/madurai").then((response) => response.json()),
      ])
        .then(([chennaiData, maduraiData]) => {
          // Update table with fetched data
          document.getElementById("chennai-mean-temp").textContent = chennaiData.meanTemp;
          document.getElementById("chennai-median-temp").textContent = chennaiData.medianTemp;
          document.getElementById("chennai-std-dev").textContent = chennaiData.stdDev;
    
          document.getElementById("madurai-mean-temp").textContent = maduraiData.meanTemp;
          document.getElementById("madurai-median-temp").textContent = maduraiData.medianTemp;
          document.getElementById("madurai-std-dev").textContent = maduraiData.stdDev;
        })
        .catch((error) => {
          console.error("Error fetching analysis data:", error);
        });
    });
    </script>


    <!-- Apparent_Temperature Chart START -->
    <h1 class="mb-5 text-4xl font- pl-9" id="ref2">Apparent Temperature</h1>
    <div id="apparentTemperatureChart" class=" pr-7">
      <div>
        <canvas id="apparentweatherChart"></canvas>
      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          // Fetch data from SQL table
          Promise.all([
            fetch("/api/apparent-weather-data/chennai").then((response) =>
              response.json()
            ),
            fetch("/api/apparent-weather-data/madurai").then((response) =>
              response.json()
            ),
          ])
            .then(([chennaiData, maduraiData]) => {
              const chartData = {
                labels: chennaiData.labels,
                datasets: [
                  {
                    label: "Chennai Apparent (°C)",
                    data: chennaiData.apparentTemperatures,
                    backgroundColor: "rgba(255, 99, 132, 0.2)",
                    borderColor: "rgba(255, 99, 132, 1)",
                    borderWidth: 1,
                    yAxisID: "y",
                  },
                  {
                    label: "Madurai Apparent (°C)",
                    data: maduraiData.apparentTemperatures,
                    backgroundColor: "rgba(54, 162, 235, 0.2)",
                    borderColor: "rgba(54, 162, 235, 1)",
                    borderWidth: 1,
                    yAxisID: "y1",
                  },
                ],
              };
      
              const ctx = document
                .getElementById("apparentweatherChart")
                .getContext("2d");
      
              new Chart(ctx, {
                type: "line",
                data: chartData,
                options: {
                  responsive: true,
                  interaction: {
                    mode: "index",
                    intersect: false,
                  },
                  stacked: false,
                  plugins: {
                    title: {
                      display: true,
                      text: "Apparent Temperature (°C)",
                    },
                  },
                  scales: {
                    y: {
                      type: "linear",
                      display: true,
                      position: "left",
                    },
                    y1: {
                      type: "linear",
                      display: true,
                      position: "right",
                      grid: {
                        drawOnChartArea: false,
                      },
                    },
                  },
                },
              });
            })
            .catch((error) => {
              console.error("Error fetching weather data:", error);
            });
        });
      </script>


    <!-- red line seperator -->
    <br><br>
    <hr style="border-color: black; border-width: 1px;">
    <!-- Apparent Temperature Analysis Output Section -->
    <div class="analysis-section mb-5 text-4xl font- pl-9">
      <h2 class="text-3xl font-bold">Apparent Temperature Analysis Output</h2><br>
      <table class="table w-full">
        <thead>
          <tr>
            <th class="text-xl">City</th>
            <th class="text-xl">Mean Apparent Temperature (°C)</th>
            <th class="text-xl">Median Apparent Temperature (°C)</th>
            <th class="text-xl">Standard Deviation</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Chennai</td>
            <td id="chennai-mean-app-temp">...</td>
            <td id="chennai-median-app-temp">...</td>
            <td id="chennai-std-dev-app">...</td>
          </tr>
          <tr>
            <td>Madurai</td>
            <td id="madurai-mean-app-temp">...</td>
            <td id="madurai-median-app-temp">...</td>
            <td id="madurai-std-dev-app">...</td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Fetch data from server
        Promise.all([
          fetch("/api/apparent-analysis-data/chennai").then((response) => response.json()),
          fetch("/api/apparent-analysis-data/madurai").then((response) => response.json()),
        ])
          .then(([chennaiData, maduraiData]) => {
            // Update table with fetched data
            document.getElementById("chennai-mean-app-temp").textContent = chennaiData.meanAppTemp;
            document.getElementById("chennai-median-app-temp").textContent = chennaiData.medianAppTemp;
            document.getElementById("chennai-std-dev-app").textContent = chennaiData.stdDevApp;
    
            document.getElementById("madurai-mean-app-temp").textContent = maduraiData.meanAppTemp;
            document.getElementById("madurai-median-app-temp").textContent = maduraiData.medianAppTemp;
            document.getElementById("madurai-std-dev-app").textContent = maduraiData.stdDevApp;
          })
          .catch((error) => {
            console.error("Error fetching apparent temperature analysis data:", error);
          });
      });
    </script>

    <!-- Apparent_Temperature Chart END -->


    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Fetch data from server
        Promise.all([
          fetch("/api/apparent-analysis-data/chennai").then((response) => response.json()),
          fetch("/api/apparent-analysis-data/madurai").then((response) => response.json()),
        ])
          .then(([chennaiData, maduraiData]) => {
            // Update table with fetched data
            document.getElementById("chennai-mean-app-temp").textContent = chennaiData.meanAppTemp;
            document.getElementById("chennai-median-app-temp").textContent = chennaiData.medianAppTemp;
            document.getElementById("chennai-std-dev-app").textContent = chennaiData.stdDevApp;
    
            document.getElementById("madurai-mean-app-temp").textContent = maduraiData.meanAppTemp;
            document.getElementById("madurai-median-app-temp").textContent = maduraiData.medianAppTemp;
            document.getElementById("madurai-std-dev-app").textContent = maduraiData.stdDevApp;
          })
          .catch((error) => {
            console.error("Error fetching apparent temperature analysis data:", error);
          });
      });
    </script>


      </body>
      <footer>
        <footer class="footer footer-center p-6 bg-base-200 text-base-content rounded">
          <nav>
            <a class="link link-hover">About us</a>
            <a class="link link-hover">Temperature</a>
            <a class="link link-hover">Meteorological-factors</a>
            <a href="http://127.0.0.1:5000/table" class="link link-hover">RAW_Tables</a>
          </nav>
          <nav>
            <div class="grid grid-flow-col gap-4"></div>
          </nav>
          <aside>
            <p>Copyright © 2024 - All right reserved by Corporate Rats Industries Ltd</p>
          </aside>
        </footer>
      </footer>
</html>
